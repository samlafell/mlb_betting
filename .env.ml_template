# MLB ML Prediction System Environment Variables
# Optimized for Docker Compose deployment

# ===========================================
# DATABASE CONFIGURATION (Required)
# ===========================================
POSTGRES_HOST=localhost                    # Use localhost for host.docker.internal in containers
POSTGRES_PORT=5432
POSTGRES_DB=mlb_betting
POSTGRES_USER=your_username_here
POSTGRES_PASSWORD=your_secure_password_here

# Alternative database URL format (used by some services)
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@host.docker.internal:${POSTGRES_PORT}/${POSTGRES_DB}

# ===========================================
# CONTAINER SERVICE CONFIGURATION
# ===========================================

# Redis (Feature Cache)
REDIS_HOST=redis                           # Container name for internal communication
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
REDIS_URL=redis://redis:6379/0             # Full container URL

# MLflow (Model Registry)
MLFLOW_TRACKING_URI=http://mlflow:5000     # Container URL
MLFLOW_BACKEND_STORE_URI=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@host.docker.internal:${POSTGRES_PORT}/${POSTGRES_DB}
MLFLOW_DEFAULT_ARTIFACT_ROOT=/mlflow/artifacts

# ===========================================
# API CONFIGURATION
# ===========================================
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=2
LOG_LEVEL=INFO
DEBUG=false
RELOAD=false

# ===========================================
# ML MODEL CONFIGURATION
# ===========================================
MODEL_SERVING_ENABLED=true
DEFAULT_MODEL_NAME=lightgbm_v1
MODEL_CONFIDENCE_THRESHOLD=0.65
ENABLE_MODEL_EXPLANATIONS=false

# Model caching
MODEL_CACHE_TTL_SECONDS=3600               # 1 hour
FEATURE_CACHE_TTL_SECONDS=1800             # 30 minutes
MAX_BATCH_SIZE=50

# ===========================================
# SECURITY (Local Development)
# ===========================================
API_SECRET_KEY=your_api_secret_key_here_generate_secure_random_string
JWT_SECRET_KEY=your_jwt_secret_key_here_generate_secure_random_string
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=1440

# ===========================================
# RATE LIMITING (Local Network)
# ===========================================
RATE_LIMIT_REQUESTS_PER_MINUTE=60
PREDICTION_RATE_LIMIT=10

# ===========================================
# MONITORING & OBSERVABILITY
# ===========================================
ENABLE_METRICS=true
METRICS_PORT=9090

# ===========================================
# OPTIONAL: External APIs (if needed later)
# ===========================================
# ODDS_API_KEY=your_api_key_here
# EMAIL_FROM_ADDRESS=your_email@example.com

# ===========================================
# ENVIRONMENT
# ===========================================
ENVIRONMENT=development